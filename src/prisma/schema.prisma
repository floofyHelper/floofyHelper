generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-1.1.x"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model guild {
  id           String              @id @map("_id") /// Guild ID
  settings     guildSettings?
  verification guildVerification[]

  @@map("Guild")
}

// Guild Settings
type guildSettings {
  verification guildSettingsVerification
}

type guildSettingsVerification {
  mode      Int? /// 1 is DM, 2 is thread
  type      Int? /// 1 is simple verification, 2 is advanced
  role      String? /// Role to give user when verified
  channel   String? /// Channel to send verification reviews to
  log       String? /// Channel to send verification logs to
  questions Json[]
}

// Guild Verification
model guildVerification {
  id          String   @id @map("_id") /// User ID
  guildId     String
  age         String?
  submissions String[]
  guild       guild    @relation(fields: [guildId], references: [id])
}
